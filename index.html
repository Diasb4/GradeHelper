<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏ ‚Äî Grade Helper</title>
    <style>
        :root {
            --bg: #0f1724;
            --card: #111827;
            --muted: #9ca3af;
            --accent: #60a5fa;
            --success: #10b981;
            --danger: #ef4444;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-2: rgba(255, 255, 255, 0.02);
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
        }

        body {
            background: linear-gradient(180deg, #071024 0%, #0f1724 60%);
            color: #e6eef8;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 32px;
        }

        .wrap {
            width: 100%;
            max-width: 960px;
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 24px;
        }

        /* left: form */
        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
            border-radius: 14px;
            padding: 20px;
            box-shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        h1 {
            margin: 0 0 6px;
            font-size: 20px;
            color: var(--accent)
        }

        p.lead {
            margin: 0 0 18px;
            color: var(--muted);
            font-size: 14px
        }

        label {
            display: block;
            font-size: 13px;
            color: #cfe7ff;
            margin-top: 10px;
            margin-bottom: 6px
        }

        input[type=number],
        select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: none;
            background: var(--glass);
            color: inherit;
            font-size: 15px;
            outline: 2px solid transparent;
            transition: outline .12s;
        }

        input[type=number]:focus,
        select:focus {
            outline: 2px solid rgba(96, 165, 250, 0.12)
        }

        .row {
            display: flex;
            gap: 12px
        }

        .col {
            flex: 1
        }

        .buttons {
            display: flex;
            gap: 12px;
            margin-top: 14px
        }

        button {
            cursor: pointer;
            border: 0;
            padding: 10px 14px;
            border-radius: 10px;
            font-weight: 600;
            background: linear-gradient(180deg, var(--accent), #3b82f6);
            color: white;
            box-shadow: 0 6px 18px rgba(59, 130, 246, 0.16);
        }

        button.secondary {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.06);
            color: var(--muted);
            box-shadow: none
        }

        button.danger {
            background: linear-gradient(180deg, var(--danger), #dc2626);
        }

        /* right: result panel */
        .panel {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .result {
            padding: 16px;
            border-radius: 12px;
            background: linear-gradient(180deg, var(--glass), var(--glass-2));
            min-height: 140px;
            font-size: 15px;
            color: #e8f7ff;
            white-space: pre-wrap;
        }

        .badge {
            display: inline-block;
            padding: 6px 8px;
            border-radius: 999px;
            font-size: 13px;
            background: rgba(255, 255, 255, 0.03);
            color: var(--muted);
            margin-right: 8px
        }

        .progress-wrap {
            background: rgba(255, 255, 255, 0.04);
            border-radius: 999px;
            padding: 6px
        }

        .progress {
            height: 18px;
            border-radius: 999px;
            background: linear-gradient(90deg, #06202e, #06202e);
            overflow: hidden;
            position: relative;
        }

        .progress>div {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #06b6d4, #60a5fa);
            transition: width .45s ease, background .25s linear;
        }

        .meta {
            font-size: 13px;
            color: var(--muted)
        }

        footer {
            margin-top: 14px;
            font-size: 13px;
            color: var(--muted);
            display: flex;
            justify-content: space-between;
            align-items: center
        }

        .sig {
            font-size: 13px;
            color: #cbd5e1
        }

        .hint {
            font-size: 13px;
            color: var(--muted)
        }

        /* small screens */
        @media (max-width:920px) {
            .wrap {
                grid-template-columns: 1fr;
                max-width: 720px
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <!-- FORM -->
        <div class="card">
            <h1>Grade Helper ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏—Ç–æ–≥–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏</h1>
            <p class="lead">–í–≤–æ–¥–∏ –æ—Ü–µ–Ω–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–∏–¥—Ç–µ—Ä–º–∞ –∏ —ç–Ω–¥—Ç–µ—Ä–º–∞, –∑–∞—Ç–µ–º —Ñ–∞–π–Ω–∞–ª (–∏–ª–∏ –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º ‚Äî
                –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏). –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ–ø—É—Å–∫ –Ω–∞ —Ñ–∏–Ω–∞–ª ‚Äî <strong>50</strong>.</p>

            <form id="gradeForm" onsubmit="return false;">
                <label>–†–µ–≥–ú–∏–¥ (RegMid)</label>
                <input id="regmid" type="number" min="0" max="100" step="0.01" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä 78.5" required />

                <label>–†–µ–≥–≠–Ω–¥ (RegEnd)</label>
                <input id="regend" type="number" min="0" max="100" step="0.01" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä 82" required />

                <div class="row">
                    <div class="col">
                        <label>–§–∞–π–Ω–∞–ª (Final) ‚Äî –µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω</label>
                        <input id="final" type="number" min="0" max="100" step="0.01"
                            placeholder="–û—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω" />
                    </div>
                </div>

                <div class="buttons">
                    <button id="calcBtn" onclick="onCalculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                    <button id="resetBtn" class="secondary" onclick="onReset()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                    <button id="copyBtn" class="secondary" onclick="onCopy()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                </div>

                <footer>
                    <div class="meta">–ü—Ä–∞–≤–∏–ª–∞: total = regmid*0.3 + regend*0.3 + final*0.4</div>
                    <div class="sig">–ü–æ–¥–ø–∏—Å—å: <strong id="signature">Not_404(Code:403)</strong></div>
                </footer>
            </form>
        </div>

        <!-- RESULT PANEL -->
        <div class="panel">
            <div class="card">
                <div style="display:flex;justify-content:space-between;align-items:center">
                    <div>
                        <span class="badge">–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
                        <span class="meta" id="smallNote">–û–∂–∏–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥...</span>
                    </div>
                    <div style="text-align:right">
                        <div class="meta">–ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–æ—Ç–∞–ª–∞</div>
                        <div class="progress-wrap" style="width:240px">
                            <div class="progress" aria-hidden="true">
                                <div id="progressBarInner" style="width:0%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="result" id="resultBox">–ù–∞–∂–º–∏ ¬´–†–∞—Å—Å—á–∏—Ç–∞—Ç—å¬ª, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</div>
            </div>

            <div class="card" style="padding:12px">
                <div class="meta">–ü–æ–¥—Å–∫–∞–∑–∫–∏:</div>
                <ul style="margin:8px 0 0 18px;color:var(--muted)">
                    <li>–ï—Å–ª–∏ —Ñ–∏–Ω–∞–ª –Ω–µ –≤–≤–µ–¥—ë–Ω ‚Äî –ø–æ–¥—Å—á–∏—Ç–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–∞–π–Ω–∞–ª (–Ω–µ –º–µ–Ω–µ–µ 50) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π.
                    </li>
                    <li>–§–∏–Ω–∞–ª –Ω–∏–∂–µ 50 = –ø–µ—Ä–µ—Å–¥–∞—á–∞.</li>
                    <li>–†–µ–≥—Ç–µ—Ä–º < 50 ‚Üí –ª–µ—Ç–Ω–∏–∫.</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // --- Helper numeric parsing that emulates careful arithmetic ---
        function toNum(v) {
            if (v === null || v === undefined || v === '') return null;
            const n = Number(v);
            return Number.isFinite(n) ? n : null;
        }

        function clamp01(v) { return Math.max(0, Math.min(100, v)); }

        // Compute required final solving linear equation:
        // target = regmid*0.3 + regend*0.3 + final*0.4  => final = (target - current)/0.4
        function requiredFinal(mid, end, target) {
            const current = (mid * 0.3) + (end * 0.3);
            return (target - current) / 0.4;
        }

        function formatNum(n) { return (Math.round(n * 100) / 100).toFixed(2); }

        function setProgress(p) {
            // p expected 0..100
            p = Math.max(0, Math.min(100, p));
            const bar = document.getElementById('progressBarInner');
            bar.style.width = p + '%';
            // color based on value
            if (p >= 90) bar.style.background = 'linear-gradient(90deg,#06b6d4,#60a5fa)';
            else if (p >= 70) bar.style.background = 'linear-gradient(90deg,#16a34a,#60a5fa)';
            else if (p >= 50) bar.style.background = 'linear-gradient(90deg,#f59e0b,#f97316)';
            else bar.style.background = 'linear-gradient(90deg,#ef4444,#f43f5e)';
        }

        function showResult(text) {
            const el = document.getElementById('resultBox');
            el.textContent = text;
        }

        function onReset() {
            document.getElementById('gradeForm').reset();
            showResult('–§–æ—Ä–º–∞ —Å–±—Ä–æ—à–µ–Ω–∞. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –Ω–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å".');
            document.getElementById('smallNote').textContent = '–û–∂–∏–¥–∞–µ—Ç—Å—è –≤–≤–æ–¥...';
            setProgress(0);
        }

        function onCopy() {
            const text = document.getElementById('resultBox').textContent;
            navigator.clipboard?.writeText(text).then(() => {
                alert('–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
            }, () => { alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å'); });
        }

        function onCalculate() {
            const regmid = toNum(document.getElementById('regmid').value);
            const regend = toNum(document.getElementById('regend').value);
            const final = toNum(document.getElementById('final').value);
            const cheating = document.getElementById('cheating').value;

            // Basic validation
            if (regmid === null || regend === null) {
                alert('–ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è RegMid –∏ RegEnd (0..100).');
                return;
            }
            if (regmid < 0 || regmid > 100 || regend < 0 || regend > 100) {
                alert('–û—Ü–µ–Ω–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..100.');
                return;
            }
            // –ø–æ –∑–∞—è–≤–∫–µ: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–≥–º–∏–¥/—Ä–µ–≥—ç–Ω–¥
            if (regmid < 25) {
                showResult('–†–µ–≥–ú–∏–¥ –º–µ–Ω—å—à–µ 25 ‚Äî –ª–µ—Ç–Ω–∏–∫.');
                setProgress(0);
                return;
            }
            if (regend < 25) {
                showResult('–†–µ–≥–≠–Ω–¥ –º–µ–Ω—å—à–µ 25 ‚Äî –ª–µ—Ç–Ω–∏–∫.');
                setProgress(0);
                return;
            }

            const regterm = (regmid + regend) / 2;

            if (regterm < 50) {
                showResult(`–†–µ–≥–¢–µ—Ä–º = ${formatNum(regterm)} ‚Äî –º–µ–Ω—å—à–µ 50 ‚Üí –ª–µ—Ç–Ω–∏–∫.`);
                setProgress(0);
                return;
            }

            // –ï—Å–ª–∏ —Ñ–∞–π–Ω–∞–ª –Ω–µ –≤–≤–µ–¥—ë–Ω ‚Äî –≤—ã–¥–∞—ë–º —Ä–µ–≥—Ç–µ—Ä–º –∏ –Ω—É–∂–Ω—ã–µ –º–∏–Ω–∏–º—É–º —Ñ–∞–π–Ω–∞–ª–∞ (–Ω–æ –Ω–µ –Ω–∏–∂–µ 50)
            if (final === null) {
                // –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
                const need50 = 50.0; // –ø–æ —Ç–≤–æ–µ–º—É —É—Å–ª–æ–≤–∏—é —Ñ–∏–Ω–∞–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ 50
                const reqForPass = Math.max(50, requiredFinal(regmid, regend, 50)); // for >50 pass
                const reqForScholar = Math.max(50, requiredFinal(regmid, regend, 70));
                const reqForHigh = Math.max(50, requiredFinal(regmid, regend, 90));

                // If required is >100 ‚Äî show as "–±–æ–ª—å—à–µ 100" (–Ω–µ–≤—ã–ø–æ–ª–Ω–∏–º–æ)
                const nice = (v) => {
                    if (v === Infinity || isNaN(v)) return '‚Äî';
                    if (v > 100) return '>100';
                    if (v < 0) return '0';
                    return formatNum(v);
                };

                const text =
                    `–†–µ–≥–¢–µ—Ä–º = ${formatNum(regterm)}.

–ï—Å–ª–∏ —Ñ–∏–Ω–∞–ª –Ω–µ –∏–∑–≤–µ—Å—Ç–µ–Ω ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–∞–π–Ω–∞–ª = 50.

–ù—É–∂–Ω—ã–π —Ñ–∏–Ω–∞–ª (–Ω–µ –º–µ–Ω–µ–µ 50):
‚Ä¢ –î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ (–∏—Ç–æ–≥ ‚â• 50): ${nice(reqForPass)}.
‚Ä¢ –î–ª—è –æ–±—ã—á–Ω–æ–π —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ (–∏—Ç–æ–≥ ‚â• 70): ${nice(reqForScholar)}.
‚Ä¢ –î–ª—è –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å—Ç–∏–ø–µ–Ω–¥–∏–∏ (–∏—Ç–æ–≥ ‚â• 90): ${nice(reqForHigh)}.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏—Ç–æ–≥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ total = regmid*0.3 + regend*0.3 + final*0.4.`;

                showResult(text);
                document.getElementById('smallNote').textContent = '–§–∏–Ω–∞–ª –Ω–µ –≤–≤–µ–¥—ë–Ω ‚Äî –ø–æ–∫–∞–∑–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è';
                // progress = reg contribution only (normalized to 100)
                // compute current partial total (without final) and map to 0..100 by assuming final=50 minimal
                const partial = (regmid * 0.3 + regend * 0.3); // out of max 60 (if both 100)
                // rough estimate: show partial * (100/ (partial + 50*0.4))
                const estTotalIf50 = partial + 50 * 0.4;
                setProgress(estTotalIf50); // estTotalIf50 is 0..100
                return;
            }

            // –ï—Å–ª–∏ —Ñ–∏–Ω–∞–ª –≤–≤–µ–¥—ë–Ω ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: —Ñ–∏–Ω–∞–ª –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ 50
            if (final < 50) {
                showResult(`–§–∞–π–Ω–∞–ª = ${formatNum(final)} ‚Äî –ø–µ—Ä–µ—Å–¥–∞—á–∞ (–º–∏–Ω–∏–º—É–º 50 –¥–ª—è –¥–æ–ø—É—Å–∫–∞).`);
                setProgress(0);
                return;
            }
            if (final > 100 || final < 0) {
                alert('–§–∏–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..100.');
                return;
            }

            // –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç
            const total = (regmid * 0.3) + (regend * 0.3) + (final * 0.4);
            let verdict = '';
            if (total < 50) verdict = 'üü• –¢–æ—Ç–∞–ª < 50 ‚Äî –ª–µ—Ç–Ω–∏–∫.';
            else if (total < 70) verdict = 'üüß –¢–æ—Ç–∞–ª < 70 ‚Äî –º–∏–Ω—É—Å —Å—Ç–∏–ø–µ–Ω–¥–∏—è.';
            else if (total < 90) verdict = 'üü© –¢–æ—Ç–∞–ª ‚â• 70 ‚Äî —Å—Ç–∏–ø–µ–Ω–¥–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.';
            else verdict = 'üåü –¢–æ—Ç–∞–ª ‚â• 90 ‚Äî –ø–æ–≤—ã—à–µ–Ω–Ω–∞—è —Å—Ç–∏–ø–µ–Ω–¥–∏—è!';

            const text =
                `–†–µ–≥–ú–∏–¥ = ${formatNum(regmid)}
–†–µ–≥–≠–Ω–¥ = ${formatNum(regend)}
–†–µ–≥–¢–µ—Ä–º = ${formatNum(regterm)}
–§–∏–Ω–∞–ª = ${formatNum(final)}

–ò—Ç–æ–≥–æ–≤—ã–π —Ç–æ—Ç–∞–ª = ${formatNum(total)}.

${verdict}`;

            showResult(text);
            document.getElementById('smallNote').textContent = '–†–∞—Å—á—ë—Ç –∑–∞–≤–µ—Ä—à—ë–Ω';
            setProgress(total);
        }
    </script>
</body>

</html>